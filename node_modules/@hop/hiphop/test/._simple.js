import * as $$hiphop from '@hop/hiphop';import * as hh from '@hop/hiphop';import { format } from 'util';const prg=$$hiphop.MODULE({'id':'prg','%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':74},'%tag':'module'},$$hiphop.SIGNAL({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':92},'direction':'INOUT','name':'OK'}),$$hiphop.SIGNAL({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':92},'direction':'INOUT','name':'O'}),$$hiphop.SIGNAL({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':92},'direction':'INOUT','name':'A'}),$$hiphop.SIGNAL({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':92},'direction':'INOUT','name':'B'}),$$hiphop.SIGNAL({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':92},'direction':'INOUT','name':'C'}),$$hiphop.SIGNAL({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':92},'direction':'INOUT','name':'BBBB'}),$$hiphop.SIGNAL({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':92},'direction':'INOUT','name':'NEVER'}),$$hiphop.SIGNAL({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':127},'direction':'IN','name':'STOP'}),$$hiphop.SIGNAL({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':136},'direction':'IN','name':'AIN'}),$$hiphop.ABORT({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':147},'%tag':'abort','immediate':false,'apply':function () {
return ((() => {
const STOP=this.STOP;return STOP.now;
})());
}},$$hiphop.SIGACCESS({'signame':'STOP','pre':false,'val':false,'cnt':false}),$$hiphop.LOOP({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':171}},$$hiphop.TRAP({'JMP':'JMP','%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':180},'%tag':'JMP'},$$hiphop.SEQUENCE({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':185},'%tag':'sequence'},$$hiphop.EMIT({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':197},'%tag':'emit','signame':'O'}),$$hiphop.TRAP({'FOO':'FOO','%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':207},'%tag':'FOO'},$$hiphop.SEQUENCE({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':212},'%tag':'sequence'},$$hiphop.EXIT({'JMP':'JMP','%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':228},'%tag':'break'}),$$hiphop.PAUSE({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':241},'%tag':'yield'}),$$hiphop.PAUSE({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':256},'%tag':'yield'}))))),$$hiphop.EMIT({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':281},'%tag':'emit','signame':'O'}),$$hiphop.IF({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':289},'%tag':'if','apply':function () {
return ((() => {
const O=this.O;return O.now;
})());
}},$$hiphop.SIGACCESS({'signame':'O','pre':false,'val':false,'cnt':false}),$$hiphop.EMIT({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':304},'%tag':'emit','signame':'OK'})),$$hiphop.PAUSE({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':312},'%tag':'yield'}),$$hiphop.EMIT({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':326},'%tag':'emit','signame':'O'}),$$hiphop.IF({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':333},'%tag':'if','apply':function () {
return ((() => {
const O=this.O;return O.now;
})());
}},$$hiphop.SIGACCESS({'signame':'O','pre':false,'val':false,'cnt':false}),$$hiphop.EMIT({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':348},'%tag':'emit','signame':'OK'})),$$hiphop.PAUSE({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':356},'%tag':'yield'}),$$hiphop.FORK({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':366},'%tag':'fork'},$$hiphop.SEQUENCE({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':366},'%tag':'fork'},$$hiphop.EMIT({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':383},'%tag':'emit','signame':'A'}),$$hiphop.PAUSE({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':393},'%tag':'yield'}),$$hiphop.EMIT({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':410},'%tag':'emit','signame':'C'})),$$hiphop.EMIT({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':435},'%tag':'emit','signame':'B'}),$$hiphop.EMIT({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':460},'%tag':'emit','signame':'BBBB'})))),$$hiphop.EMIT({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':493},'%tag':'emit','signame':'NEVER'}),$$hiphop.PAUSE({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':505},'%tag':'yield'}),$$hiphop.AWAIT({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':515},'%tag':'await','immediate':false,'apply':function () {
return ((() => {
const STOP=this.STOP;return STOP.now;
})());
}},$$hiphop.SIGACCESS({'signame':'STOP','pre':false,'val':false,'cnt':false})),$$hiphop.EMIT({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':540},'%tag':'emit','signame':'B'}),$$hiphop.AWAIT({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':548},'%tag':'await','immediate':false,'apply':function () {
return ((() => {
const AIN=this.AIN;return AIN.now;
})());
}},$$hiphop.SIGACCESS({'signame':'AIN','pre':false,'val':false,'cnt':false})),$$hiphop.IF({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':567},'%tag':'if','apply':function () {
return ((() => {
const AIN=this.AIN;return AIN.now;
})());
}},$$hiphop.SIGACCESS({'signame':'AIN','pre':false,'val':false,'cnt':false}),$$hiphop.EMIT({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':592},'%tag':'emit','signame':'C'})));
const prg2=$$hiphop.MODULE({'id':'prg2','%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':612},'%tag':'module'},$$hiphop.SIGNAL({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':631},'direction':'INOUT','name':'O'}),$$hiphop.SIGNAL({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':631},'direction':'INOUT','name':'V'}),$$hiphop.LOOP({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':646}},$$hiphop.PAUSE({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':659},'%tag':'yield'}),$$hiphop.PAUSE({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':672},'%tag':'yield'}),$$hiphop.EMIT({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':690},'%tag':'emit','signame':'O'}),$$hiphop.PAUSE({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':701},'%tag':'yield'}),$$hiphop.EMIT({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':719},'%tag':'emit','signame':'O'}),$$hiphop.IF({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':731},'%tag':'if','apply':function () {
return ((() => {
const O=this.O;return O.now;
})());
}},$$hiphop.SIGACCESS({'signame':'O','pre':false,'val':false,'cnt':false}),$$hiphop.EMIT({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':750},'%tag':'emit','signame':'V'}))),$$hiphop.EMIT({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':776},'%tag':'emit','signame':'O'}));
const prg3=$$hiphop.MODULE({'id':'prg3','%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':791},'%tag':'module'},$$hiphop.SIGNAL({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':810},'direction':'OUT','name':'O'}),$$hiphop.SEQUENCE({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':820},'%tag':'sequence'},$$hiphop.PAUSE({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':828},'%tag':'yield'}),$$hiphop.EMIT({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':846},'%tag':'emit','signame':'O'})),$$hiphop.EMIT({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':864},'%tag':'emit','signame':'O'}));
const prg4=$$hiphop.MODULE({'id':'prg4','%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':879},'%tag':'module'},$$hiphop.SIGNAL({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':898},'direction':'OUT','name':'OK'}),$$hiphop.SIGNAL({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':898},'direction':'OUT','name':'O'}),$$hiphop.EMIT({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':917},'%tag':'emit','signame':'O'}),$$hiphop.IF({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':925},'%tag':'if','apply':function () {
return ((() => {
const O=this.O;return O.now;
})());
}},$$hiphop.SIGACCESS({'signame':'O','pre':false,'val':false,'cnt':false}),$$hiphop.EMIT({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':948},'%tag':'emit','signame':'OK'})));
const prg5=$$hiphop.MODULE({'id':'prg5','%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':969},'%tag':'module'},$$hiphop.SIGNAL({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':988},'direction':'OUT','name':'OK'}),$$hiphop.SIGNAL({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':988},'direction':'OUT','name':'O'}),$$hiphop.IF({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':1002},'%tag':'if','apply':function () {
return ((() => {
const O=this.O;return O.now;
})());
}},$$hiphop.SIGACCESS({'signame':'O','pre':false,'val':false,'cnt':false}),$$hiphop.EMIT({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/simple.hh.js','pos':1025},'%tag':'emit','signame':'OK'})));
const mach=new hh.ReactiveMachine(prg,'FOO');
mach.outbuf='';mach.debug_emitted_func=(val) => {
mach.outbuf+=format(val) + '\n';};mach.outbuf+='will react' + '\n';mach.react();mach.outbuf+='will react' + '\n';mach.react();mach.outbuf+='will react' + '\n';mach.react();mach.outbuf+='will react' + '\n';mach.react();mach.outbuf+='will react' + '\n';mach.react();mach.outbuf+='will react' + '\n';mach.react();mach.outbuf+='will react' + '\n';mach.react();mach.outbuf+='will react STOP' + '\n';mach.inputAndReact('STOP',undefined);mach.outbuf+='will react' + '\n';mach.react();mach.outbuf+='will react' + '\n';mach.react();mach.outbuf+='will react' + '\n';mach.react();mach.outbuf+='will react' + '\n';mach.react();mach.outbuf+='will react STOP' + '\n';mach.inputAndReact('STOP',undefined);mach.outbuf+='will react' + '\n';mach.inputAndReact('AIN',undefined);mach.outbuf+='will react' + '\n';mach.react();const m2=new hh.ReactiveMachine(prg2,'2');
m2.debug_emitted_func=(val) => {
mach.outbuf+=format(val) + '\n';};mach.outbuf+='m2\n';m2.react();m2.react();m2.react();m2.react();m2.react();const m3=new hh.ReactiveMachine(prg3,'3');
m3.debug_emitted_func=(val) => {
mach.outbuf+=format(val) + '\n';};mach.outbuf+='m3\n';m3.react();m3.react();m3.react();m3.react();m3.react();const m4=new hh.ReactiveMachine(prg4,'4');
m4.debug_emitted_func=(val) => {
mach.outbuf+=format(val) + '\n';};mach.outbuf+='m4\n';m4.react();m4.react();m4.react();m4.react();m4.react();const m5=new hh.ReactiveMachine(prg5,'5');
m5.debug_emitted_func=(val) => {
mach.outbuf+=format(val) + '\n';};mach.outbuf+='m5\n';m5.react();m5.react();m5.react();m5.react();m5.react();export { mach };
//# sourceMappingURL=/home/serrano/prgm/project/hiphop/hiphop/test/._simple.js.map
