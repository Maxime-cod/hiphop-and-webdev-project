import * as $$hiphop from '@hop/hiphop';'use @hop/hiphop';'use hopscript';import * as hh from '@hop/hiphop';import { default as fs } from 'fs';import { format } from 'util';const make_atom = function (i) {
return $$hiphop.LOOPEACH({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/every-dyn-load.hh.js','pos':166},'%tag':'do/every','immediate':false,'apply':function () {
return ((() => {
const G0=this.G0;return G0.now;
})());
}},$$hiphop.SIGACCESS({'signame':'G0','pre':false,'val':false,'cnt':false}),$$hiphop.ATOM({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/every-dyn-load.hh.js','pos':177},'%tag':'pragma','apply':function () {
mach.outbuf+=('branch ' + i) + '\n';}}));
};const make_atom2 = function (i) {
return $$hiphop.LOOP({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/every-dyn-load.hh.js','pos':288}},$$hiphop.AWAIT({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/every-dyn-load.hh.js','pos':301},'%tag':'await','immediate':true,'apply':function () {
return ((() => {
const G0=this.G0;return G0.now;
})());
}},$$hiphop.SIGACCESS({'signame':'G0','pre':false,'val':false,'cnt':false})),$$hiphop.ATOM({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/every-dyn-load.hh.js','pos':332},'%tag':'pragma','apply':function () {
mach.outbuf+=('branch ' + i) + '\n';}}),$$hiphop.PAUSE({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/every-dyn-load.hh.js','pos':385},'%tag':'yield'}));
};const make_atom3 = function (i) {
return $$hiphop.EVERY({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/every-dyn-load.hh.js','pos':450},'%tag':'every','immediate':true,'apply':function () {
return ((() => {
const G0=this.G0;return G0.now;
})());
}},$$hiphop.SIGACCESS({'signame':'G0','pre':false,'val':false,'cnt':false}),$$hiphop.ATOM({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/every-dyn-load.hh.js','pos':478},'%tag':'pragma','apply':function () {
mach.outbuf+=('branch ' + i) + '\n';}}));
};const prg=$$hiphop.MODULE({'id':'prg','%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/every-dyn-load.hh.js','pos':547},'%tag':'module'},$$hiphop.LOCAL({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/every-dyn-load.hh.js','pos':565},'%tag':'signal'},$$hiphop.SIGNAL({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/every-dyn-load.hh.js','pos':572},'name':'G0'}),$$hiphop.FORK({'id':'par','%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/every-dyn-load.hh.js','pos':580},'%tag':'fork'},$$hiphop.LOOP({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/every-dyn-load.hh.js','pos':599}},$$hiphop.EMIT({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/every-dyn-load.hh.js','pos':613},'%tag':'emit','signame':'G0'}),$$hiphop.PAUSE({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/every-dyn-load.hh.js','pos':621},'%tag':'yield'})),$$hiphop.SEQUENCE({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/every-dyn-load.hh.js','pos':653},'%tag':'dollar'},make_atom(0)),$$hiphop.SEQUENCE({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/every-dyn-load.hh.js','pos':686},'%tag':'dollar'},make_atom2(4)))));
const mach=new hh.ReactiveMachine(prg,{'name':'every-dyn-load','sweep':false});
mach.outbuf='';mach.debug_emitted_func=(val) => {
mach.outbuf+=format(val) + '\n';};mach.react();mach.react();mach.outbuf+=('add 1') + '\n';mach.getElementById('par').appendChild(make_atom2(1));mach.react();mach.react();mach.outbuf+=('add 2') + '\n';mach.getElementById('par').appendChild(make_atom(2));mach.react();mach.react();mach.react();mach.outbuf+=('add 3') + '\n';mach.getElementById('par').appendChild(make_atom3(3));mach.react();mach.react();mach.react();export { mach };
//# sourceMappingURL=/home/serrano/prgm/project/hiphop/hiphop/test/._every-dyn-load.js.map
