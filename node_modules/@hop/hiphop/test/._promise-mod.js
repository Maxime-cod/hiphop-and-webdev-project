import * as $$hiphop from '@hop/hiphop';import * as hh from '@hop/hiphop';import { promise } from '@hop/hiphop/modules/promise.js';import { format } from 'util';const prg=$$hiphop.MODULE({'id':'prg','%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/promise-mod.hh.js','pos':133},'%tag':'module'},$$hiphop.SIGNAL({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/promise-mod.hh.js','pos':158},'direction':'OUT','name':'STATUS'}),$$hiphop.FRAME({'fun':function () {
let resolve=undefined;
return $$hiphop.SEQUENCE({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/promise-mod.hh.js','pos':133},'%tag':'frame'},$$hiphop.ATOM({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/promise-mod.hh.js','pos':133},'%tag':'frame','apply':function (__frame) {
resolve=(0 < __frame.length?__frame[0]:undefined);}}),$$hiphop.LOCAL({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/promise-mod.hh.js','pos':173},'%tag':'signal'},$$hiphop.SIGNAL({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/promise-mod.hh.js','pos':180},'name':'v'}),$$hiphop.FORK({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/promise-mod.hh.js','pos':187},'%tag':'fork'},(function (__frame) {
return $$hiphop.SEQUENCE({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/promise-mod.hh.js','pos':200},'%tag':'run'},$$hiphop.ATOM({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/promise-mod.hh.js','pos':200},'%tag':'hop','apply':function () {
__frame[0]=new Promise((res,rej) => {
return res(45);
});}}),$$hiphop.RUN({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/promise-mod.hh.js','pos':200},'%tag':'run','value':'v','module':promise,'%frame':__frame}));
})([undefined]),$$hiphop.SEQUENCE({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/promise-mod.hh.js','pos':269},'%tag':'par'},$$hiphop.AWAIT({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/promise-mod.hh.js','pos':281},'%tag':'await','immediate':false,'apply':function () {
return ((() => {
const v=this.v;return v.now;
})());
}},$$hiphop.SIGACCESS({'signame':'v','pre':false,'val':false,'cnt':false})),$$hiphop.EMIT({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/promise-mod.hh.js','pos':307},'%tag':'emit','signame':'STATUS','apply':function () {
return ((() => {
const v=this.v;return v.nowval.res;
})());
}},$$hiphop.SIGACCESS({'signame':'v','pre':false,'val':true,'cnt':false})))),$$hiphop.ATOM({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/promise-mod.hh.js','pos':338},'%tag':'pragma','apply':function () {
resolve(false);}})));
},'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/promise-mod.hh.js','pos':133},'%tag':'module'}));
const mach=new hh.ReactiveMachine(prg);
mach.outbuf='';mach.debug_emitted_func=(emitted) => {
mach.outbuf+=format(emitted) + '\n';};mach.batchPromise=new Promise((res,rej) => {
return mach.init(res);
});mach.react();export { mach };
//# sourceMappingURL=/home/serrano/prgm/project/hiphop/hiphop/test/._promise-mod.js.map
