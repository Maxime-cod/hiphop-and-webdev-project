import * as $$hiphop from '@hop/hiphop';'use @hop/hiphop';'use hopscript';import * as hh from '@hop/hiphop';import { format } from 'util';const WatchTimeType = function (h,m,s,ampm) {
this.hours=h;this.minutes=m;this.seconds=s;this.ampm=ampm;};const WatchTime=new WatchTimeType(0,0,0,false);
const IncrementTimeInPlace = function (t) {
let hours=t.hours;
let minutes=t.minutes;
let seconds=t.seconds;
mach.outbuf+=('foo ' + `{ hours: ${t.hours}, minutes: ${t.minutes}, seconds: ${t.seconds}, ampm: ${t.ampm} }` + '\n');if (t.seconds == 3) {
seconds=0;if (t.minutes == 3) {
minutes=0;if (t.hours == 3) {
hours=0;} else {
hours++;}
} else {
minutes++;}
} else {
seconds++;}
return new WatchTimeType(hours,minutes,seconds,t.ampm);
};const print_time = function (evt) {
mach.outbuf+=(evt.nowval.hours + ':' + evt.nowval.minutes + ':' + evt.nowval.seconds + '\n');};const prg=$$hiphop.MODULE({'id':'prg','%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/incr-type.hh.js','pos':959},'%tag':'module'},$$hiphop.SIGNAL({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/incr-type.hh.js','pos':977},'direction':'IN','name':'I'}),$$hiphop.SIGNAL({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/incr-type.hh.js','pos':983},'direction':'OUT','name':'Time','init_func':function () {
return WatchTime;
}}),$$hiphop.LOOP({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/incr-type.hh.js','pos':1006}},$$hiphop.EMIT({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/incr-type.hh.js','pos':1024},'%tag':'emit','signame':'Time','apply':function () {
return ((() => {
const Time=this.Time;return IncrementTimeInPlace(Time.preval);
})());
}},$$hiphop.SIGACCESS({'signame':'Time','pre':true,'val':true,'cnt':false})),$$hiphop.PAUSE({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/incr-type.hh.js','pos':1071},'%tag':'yield'})));
const m=new hh.ReactiveMachine(prg,'Foo');
m.addEventListener('Time',print_time);m.outbuf='';const mach=m;
export { mach };
//# sourceMappingURL=/home/serrano/prgm/project/hiphop/hiphop/test/._incr-type.js.map
