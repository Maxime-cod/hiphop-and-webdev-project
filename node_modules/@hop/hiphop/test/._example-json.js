import * as $$hiphop from '@hop/hiphop';'use @hop/hiphop';'use hopscript';const WatchTimeType = function (h,m,s,ampm) {
this.hours=h;this.minutes=m;this.seconds=s;this.ampm=ampm;};WatchTimeType.prototype.toString=function () {
return this.hours + ':' + this.minutes + ':' + this.seconds + ' ' + ((this.ampm?'AM':'PM'));
};const WatchTime=new WatchTimeType(0,0,0,false);
const IncrementTimeInPlace = function (t) {
let hours=t.hours;
let minutes=t.minutes;
let seconds=t.seconds;
if (t.seconds == 3) {
seconds=0;if (t.minutes == 3) {
minutes=0;if (t.hours == 3) {
hours=0;} else {
hours++;}
} else {
minutes++;}
} else {
seconds++;}
return new WatchTimeType(hours,minutes,seconds,t.ampm);
};const updateFromOutside = function (watch) {
return new WatchTimeType(watch.hours,watch.minutes,watch.seconds,watch.ampm);
};import * as hh from '@hop/hiphop';const inSig={'accessibility':hh.IN};
const prg=$$hiphop.MODULE({'id':'prg','%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/example-json.hh.js','pos':1005},'%tag':'module'},$$hiphop.SIGNAL({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/example-json.hh.js','pos':1023},'direction':'IN','name':'I'}),$$hiphop.SIGNAL({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/example-json.hh.js','pos':1029},'direction':'IN','name':'TIN'}),$$hiphop.SIGNAL({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/example-json.hh.js','pos':1037},'direction':'OUT','name':'Time','init_func':function () {
return WatchTime;
}}),$$hiphop.LOOP({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/example-json.hh.js','pos':1062}},$$hiphop.EMIT({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/example-json.hh.js','pos':1080},'%tag':'emit','signame':'Time','apply':function () {
return ((() => {
const Time=this.Time;return IncrementTimeInPlace(Time.preval);
})());
}},$$hiphop.SIGACCESS({'signame':'Time','pre':true,'val':true,'cnt':false})),$$hiphop.PAUSE({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/example-json.hh.js','pos':1131},'%tag':'yield'}),$$hiphop.AWAIT({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/example-json.hh.js','pos':1144},'%tag':'await','immediate':false,'apply':function () {
return ((() => {
const TIN=this.TIN;return TIN.now;
})());
}},$$hiphop.SIGACCESS({'signame':'TIN','pre':false,'val':false,'cnt':false})),$$hiphop.EMIT({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/example-json.hh.js','pos':1173},'%tag':'emit','signame':'Time','apply':function () {
return ((() => {
const TIN=this.TIN;return updateFromOutside(TIN.nowval);
})());
}},$$hiphop.SIGACCESS({'signame':'TIN','pre':false,'val':true,'cnt':false})),$$hiphop.PAUSE({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/example-json.hh.js','pos':1219},'%tag':'yield'})));
const mach=new hh.ReactiveMachine(prg,'example-json');
export { mach };
//# sourceMappingURL=/home/serrano/prgm/project/hiphop/hiphop/test/._example-json.js.map
