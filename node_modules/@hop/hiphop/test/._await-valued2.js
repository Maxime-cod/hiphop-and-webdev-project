import * as $$hiphop from '@hop/hiphop';'use @hop/hiphop';'use hopscript';import * as hh from '@hop/hiphop';import { format } from 'util';const foo = function (evt) {
mach.outbuf+=('foo called by ' + evt.signame + ' with value ' + evt.nowval) + '\n';};const foo2 = function (evt) {
mach.outbuf+=('foo2 called by ' + evt.signame + ' with value ' + evt.nowval) + '\n';};const foo3 = function (evt) {
mach.outbuf+=('foo3 called by ' + evt.signame + ' with value ' + evt.nowval) + '\n';};const prg=$$hiphop.MODULE({'id':'prg','%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/await-valued2.hh.js','pos':457},'%tag':'module'},$$hiphop.SIGNAL({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/await-valued2.hh.js','pos':475},'direction':'IN','name':'I'}),$$hiphop.SIGNAL({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/await-valued2.hh.js','pos':481},'direction':'OUT','name':'O'}),$$hiphop.LOOP({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/await-valued2.hh.js','pos':491}},$$hiphop.AWAIT({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/await-valued2.hh.js','pos':504},'%tag':'await','immediate':false,'apply':function () {
return ((() => {
const I=this.I;return I.now;
})());
}},$$hiphop.SIGACCESS({'signame':'I','pre':false,'val':false,'cnt':false})),$$hiphop.EMIT({'%location':{'filename':'/home/serrano/prgm/project/hiphop/hiphop/test/await-valued2.hh.js','pos':529},'%tag':'emit','signame':'O','apply':function () {
return ((() => {
const I=this.I;return I.nowval;
})());
}},$$hiphop.SIGACCESS({'signame':'I','pre':false,'val':true,'cnt':false}))));
const mach=new hh.ReactiveMachine(prg,'awaitvalued2');
mach.outbuf='';mach.debug_emitted_func=(val) => {
mach.outbuf+=format(val) + '\n';};mach.addEventListener('O',foo);mach.outbuf+=(';') + '\n';mach.react();mach.addEventListener('O',foo2);mach.outbuf+=('I(34)') + '\n';mach.inputAndReact('I',34);mach.addEventListener('O',foo3);mach.outbuf+=('I(34)') + '\n';mach.inputAndReact('I',34);mach.removeEventListener('O',foo3);mach.outbuf+=('I(15)') + '\n';mach.inputAndReact('I',15);export { mach };
//# sourceMappingURL=/home/serrano/prgm/project/hiphop/hiphop/test/._await-valued2.js.map
