"use strict";
export {timeout};
export {Timeout};
"use strict";
import * as $$hiphop from '@hop/hiphop';
const $timeout=$$hiphop.MODULE({"%location":{"filename":"modules/timeout.hh.js","pos":1246},"%tag":"module"},$$hiphop.SIGNAL({"%location":{"filename":"modules/timeout.hh.js","pos":1268},"direction":"OUT","name":"elapsed"}),$$hiphop.FRAME({"fun":function (){let duration;
return $$hiphop.SEQUENCE({"%location":{"filename":"modules/timeout.hh.js","pos":1246},"%tag":"frame"},$$hiphop.ATOM({"%location":{"filename":"modules/timeout.hh.js","pos":1246},"%tag":"frame","apply":function (__frame){duration=((0 < __frame.length) ? (__frame[0]) : (undefined));
}
}),(function (){let tmt=undefined;
return $$hiphop.SEQUENCE({"%location":{"filename":"modules/timeout.hh.js","pos":1285},"%tag":"let"},$$hiphop.ATOM({"%location":{"filename":"modules/timeout.hh.js","pos":1289},"%tag":"hop","apply":function (){tmt=false;
}
}),(function (){let d0=undefined;
return $$hiphop.SEQUENCE({"%location":{"filename":"modules/timeout.hh.js","pos":1305},"%tag":"let"},$$hiphop.ATOM({"%location":{"filename":"modules/timeout.hh.js","pos":1309},"%tag":"hop","apply":function (){d0=Date.now();
}
}),(function (){let dr=undefined;
return $$hiphop.SEQUENCE({"%location":{"filename":"modules/timeout.hh.js","pos":1329},"%tag":"let"},$$hiphop.ATOM({"%location":{"filename":"modules/timeout.hh.js","pos":1333},"%tag":"hop","apply":function (){dr=0;
}
}),$$hiphop.EXEC({"%location":{"filename":"modules/timeout.hh.js","pos":1345},"%tag":"async","elapsed":"","apply":function (){tmt=setTimeout((() => {tmt=false;
this.notify(duration);
}),duration);
}
,"suspApply":function (){if( tmt) {clearTimeout(tmt);
tmt=false;
}else {}
dr=duration - (Date.now() - d0);
}
,"resApply":function (){if( dr > 0) {tmt=setTimeout((() => {return this.notify(duration);
}),dr);
} else {this.notify(duration);
}}
,"killApply":function (){if( tmt) {clearTimeout(tmt);
tmt=false;
}else {}
}
}));
}
)());
}
)());
}
)());
}
,"%location":{"filename":"modules/timeout.hh.js","pos":1246},"%tag":"module"}));
let Timeout=$$hiphop.INTERFACE({"id":"Timeout","%location":{"filename":"modules/timeout.hh.js","pos":2005},"%tag":"interface"},$$hiphop.SIGNAL({"%location":{"filename":"modules/timeout.hh.js","pos":2028},"direction":"IN","name":"reset"}),$$hiphop.SIGNAL({"%location":{"filename":"modules/timeout.hh.js","pos":2041},"direction":"IN","name":"pause"}),$$hiphop.SIGNAL({"%location":{"filename":"modules/timeout.hh.js","pos":2054},"direction":"OUT","name":"elapsed"}));
const timeout=$$hiphop.MODULE({"id":"timeout","%location":{"filename":"modules/timeout.hh.js","pos":2299},"%tag":"module"},$$hiphop.INTF({"%value":Timeout,"mirror":false,"%location":{"filename":"modules/timeout.hh.js","pos":2335},"%tag":"interface"}),$$hiphop.FRAME({"fun":function (){let duration;
return $$hiphop.SEQUENCE({"%location":{"filename":"modules/timeout.hh.js","pos":2299},"%tag":"frame"},$$hiphop.ATOM({"%location":{"filename":"modules/timeout.hh.js","pos":2299},"%tag":"frame","apply":function (__frame){duration=((0 < __frame.length) ? (__frame[0]) : (undefined));
}
}),$$hiphop.TRAP({"done":"done","%location":{"filename":"modules/timeout.hh.js","pos":2348},"%tag":"TRAP"},$$hiphop.LOOPEACH({"%location":{"filename":"modules/timeout.hh.js","pos":2362},"%tag":"LOOPEACH","immediate":false,"apply":function (){return ((() => {const reset=this.reset;
return reset.now;
})());
}
},$$hiphop.SIGACCESS({"signame":"reset","pre":false,"val":false,"cnt":false}),$$hiphop.SUSPEND({"%location":{"filename":"modules/timeout.hh.js","pos":2369},"immediate":false,"toggleApply":function (){return ((() => {const pause=this.pause;
return pause.now;
})());
}
},$$hiphop.SIGACCESS({"signame":"pause","pre":false,"val":false,"cnt":false}),(function (__frame){return $$hiphop.SEQUENCE({"%location":{"filename":"modules/timeout.hh.js","pos":2403},"%tag":"run"},$$hiphop.ATOM({"%location":{"filename":"modules/timeout.hh.js","pos":2403},"%tag":"hop","apply":function (){__frame[0]=duration;
}
}),$$hiphop.RUN({"%location":{"filename":"modules/timeout.hh.js","pos":2403},"%tag":"run","autocomplete":true,"module":$timeout,"%frame":__frame}));
}
)([undefined]),$$hiphop.EXIT({"done":"done","%location":{"filename":"modules/timeout.hh.js","pos":2451},"%tag":"EXIT"})))));
}
,"%location":{"filename":"modules/timeout.hh.js","pos":2299},"%tag":"module"}));

//# sourceMappingURL=modules/timeout.js.map
