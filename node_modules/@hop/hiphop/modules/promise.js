"use strict";
export {promise};
export {Promise};
"use strict";
import * as $$hiphop from '@hop/hiphop';
let Promise=$$hiphop.INTERFACE({"id":"Promise","%location":{"filename":"modules/promise.hh.js","pos":1222},"%tag":"interface"},$$hiphop.SIGNAL({"%location":{"filename":"modules/promise.hh.js","pos":1246},"direction":"OUT","name":"value"}));
const promise=$$hiphop.MODULE({"id":"promise","%location":{"filename":"modules/promise.hh.js","pos":1496},"%tag":"module"},$$hiphop.INTF({"%value":Promise,"mirror":false,"%location":{"filename":"modules/promise.hh.js","pos":1531},"%tag":"interface"}),$$hiphop.FRAME({"fun":function (){let promise;
return $$hiphop.SEQUENCE({"%location":{"filename":"modules/promise.hh.js","pos":1496},"%tag":"frame"},$$hiphop.ATOM({"%location":{"filename":"modules/promise.hh.js","pos":1496},"%tag":"frame","apply":function (__frame){promise=((0 < __frame.length) ? (__frame[0]) : (undefined));
}
}),(function (){let self=undefined;
return $$hiphop.SEQUENCE({"%location":{"filename":"modules/promise.hh.js","pos":1544},"%tag":"let"},$$hiphop.ATOM({"%location":{"filename":"modules/promise.hh.js","pos":1548},"%tag":"hop","apply":function (){self=undefined;
}
}),(function (){let state=undefined;
return $$hiphop.SEQUENCE({"%location":{"filename":"modules/promise.hh.js","pos":1557},"%tag":"let"},$$hiphop.ATOM({"%location":{"filename":"modules/promise.hh.js","pos":1561},"%tag":"hop","apply":function (){state="active";
}
}),(function (){let res=undefined;
let rej=undefined;
return $$hiphop.SEQUENCE({"%location":{"filename":"modules/promise.hh.js","pos":1582},"%tag":"let"},$$hiphop.ATOM({"%location":{"filename":"modules/promise.hh.js","pos":1586},"%tag":"hop","apply":function (){res=undefined;
}
}),$$hiphop.ATOM({"%location":{"filename":"modules/promise.hh.js","pos":1591},"%tag":"hop","apply":function (){rej=false;
}
}),(function (){let onres=undefined;
return $$hiphop.SEQUENCE({"%location":{"filename":"modules/promise.hh.js","pos":1611},"%tag":"let"},$$hiphop.ATOM({"%location":{"filename":"modules/promise.hh.js","pos":1615},"%tag":"hop","apply":function (){onres=((val) => {switch(state) {case "suspend": {state="pending";
res=val;
break;
}
case "kill": {break;
}
default: {self.notify({"res":val,"rej":false});
}
}});
}
}),(function (){let onrej=undefined;
return $$hiphop.SEQUENCE({"%location":{"filename":"modules/promise.hh.js","pos":1828},"%tag":"let"},$$hiphop.ATOM({"%location":{"filename":"modules/promise.hh.js","pos":1832},"%tag":"hop","apply":function (){onrej=((val) => {switch(state) {case "suspend": {state="pending";
rej=val;
break;
}
case "kill": {break;
}
default: {self.notify({"res":undefined,"rej":val});
}
}});
}
}),$$hiphop.EXEC({"%location":{"filename":"modules/promise.hh.js","pos":2046},"%tag":"async","value":"","apply":function (){self=this;
promise.then(onres,onrej);
}
,"suspApply":function (){state="suspend";
}
,"resApply":function (){if( state === "pending") {state="resume";
self.notify({"res":res,"rej":rej});
}else {}
}
,"killApply":function (){state="kill";
}
}));
}
)());
}
)());
}
)());
}
)());
}
)());
}
,"%location":{"filename":"modules/promise.hh.js","pos":1496},"%tag":"module"}));

//# sourceMappingURL=modules/promise.js.map
